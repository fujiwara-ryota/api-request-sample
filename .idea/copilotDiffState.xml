<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/.env.example">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/.env.example" />
              <option name="originalContent" value="# OpenAI API Key&#10;# Get your API key from: https://platform.openai.com/api-keys&#10;OPENAI_API_KEY=your-openai-api-key-here&#10;&#10;PROMPT_ID=pmpt_xxxx&#10;" />
              <option name="updatedContent" value="# OpenAI API Key&#10;# Get your API key from: https://platform.openai.com/api-keys&#10;OPENAI_API_KEY=your-openai-api-key-here&#10;&#10;# OpenAI Prompt ID for responses.create&#10;PROMPT_ID=pmpt_68ef29b2ef6c8195abc3b119a63909760649e17365f76136&#10;&#10;PROMPT_ID=pmpt_xxxx&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/README.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/README.md" />
              <option name="originalContent" value="# OpenAI API Request Sample&#10;&#10;dataディレクトリの配列形式JSONファイルからデータを読み込み、指定した件数分をOpenAI APIに送信するサンプルアプリケーションです。&#10;&#10;## セットアップ&#10;&#10;1. 依存関係をインストール：&#10;```bash&#10;npm install&#10;```&#10;&#10;2. 環境変数を設定：&#10;```bash&#10;cp .env.example .env&#10;```&#10;&#10;3. `.env`ファイルでOpenAI APIキーとPrompt IDを設定：&#10;```&#10;OPENAI_API_KEY=your-actual-api-key-here&#10;PROMPT_ID=pmpt_68ef29b2ef6c8195abc3b119a63909760649e17365f76136&#10;```&#10;&#10;## データ形式&#10;&#10;dataディレクトリには、以下の形式の配列JSONファイルを配置してください：&#10;&#10;```json&#10;[&#10;  {&#10;    &quot;id&quot;: 1,&#10;    &quot;text&quot;: &quot;質問テキスト&quot;,&#10;    &quot;category&quot;: &quot;カテゴリ&quot;&#10;  },&#10;  {&#10;    &quot;id&quot;: 2,&#10;    &quot;text&quot;: &quot;別の質問テキスト&quot;,&#10;    &quot;category&quot;: &quot;別のカテゴリ&quot;&#10;  }&#10;]&#10;```&#10;&#10;## 使用方法&#10;&#10;### 全件実行（デフォルト）&#10;```bash&#10;node index.js&#10;```&#10;`--count`オプションを指定しない場合、dataディレクトリの全JSONファイルから全件のデータを読み込み、APIに送信します。&#10;&#10;### 件数を指定して実行&#10;```bash&#10;node index.js --count=100&#10;```&#10;&#10;このコマンドで、dataディレクトリの全JSONファイルから最大100件のデータを読み込み、APIに送信します。&#10;&#10;### 開発モード（ファイル監視）&#10;```bash&#10;npm run dev&#10;```&#10;&#10;## 機能&#10;&#10;- dataディレクトリの全`.json`ファイルを自動読み込み&#10;- 配列形式のJSONデータを結合&#10;- コマンドライン引数での件数指定&#10;- 指定件数分のデータをOpenAI responses.create APIに送信&#10;- 配列データのtextフィールドを質問として使用&#10;- レスポンスの画面表示とファイル保存&#10;- outputディレクトリへの結果保存（タイムスタンプ付き）&#10;&#10;## 出力&#10;&#10;APIのレスポンスは以下の形式で保存されます：&#10;- `output/result_{件数}items_{タイムスタンプ}.json` - 完全なAPIレスポンス&#10;- `output/result_{件数}items_{タイムスタンプ}.csv` - output[].content[].textの抽出データ&#10;&#10;出力結果はコンソールにも表示されます：&#10;1. テキストデータを行ごとに表示&#10;2. 完全なJSONレスポンスを表示&#10;&#10;## サンプルデータ&#10;&#10;プロジェクトには以下のサンプルファイルが含まれています：&#10;- `data/data_1.json` - 文化、プログラミング、技術などの質問&#10;- `data/data_2.json` - 旅行、ビジネス、環境などの質問&#10;&#10;## Git管理について&#10;&#10;このプロジェクトでは、`data/`と`output/`ディレクトリは管理対象ですが、中のファイルは除外されています：&#10;&#10;- `data/` - ディレクトリ構造のみ管理（`.gitkeep`）、JSONファイルは除外&#10;- `output/` - ディレクトリ構造のみ管理（`.gitkeep`）、出力ファイルは除外&#10;&#10;この設定により、実際のデータファイルや出力結果をGitにコミットせずに、ディレクトリ構造を保持できます。&#10;&#10;## 注意事項&#10;&#10;- OpenAI APIキーが必要です&#10;- API使用料金が発生する可能性があります&#10;- 大量のデータを送信する際は、APIの利用制限にご注意ください&#10;" />
              <option name="updatedContent" value="# OpenAI API Request Sample&#10;&#10;dataディレクトリの配列形式JSONファイルからデータを読み込み、指定した件数分をOpenAI APIに送信するサンプルアプリケーションです。&#10;&#10;## セットアップ&#10;&#10;1. 依存関係をインストール：&#10;```bash&#10;npm install&#10;```&#10;&#10;2. 環境変数を設定：&#10;```bash&#10;cp .env.example .env&#10;```&#10;&#10;3. `.env`ファイルでOpenAI APIキーとPrompt IDを設定：&#10;```&#10;OPENAI_API_KEY=your-actual-api-key-here&#10;PROMPT_ID=pmpt_68ef29b2ef6c8195abc3b119a63909760649e17365f76136&#10;```&#10;&#10;## データ形式&#10;&#10;dataディレクトリには、以下の形式の配列JSONファイルを配置してください：&#10;&#10;```json&#10;[&#10;  {&#10;    &quot;id&quot;: 1,&#10;    &quot;text&quot;: &quot;質問テキスト&quot;,&#10;    &quot;category&quot;: &quot;カテゴリ&quot;&#10;  },&#10;  {&#10;    &quot;id&quot;: 2,&#10;    &quot;text&quot;: &quot;別の質問テキスト&quot;,&#10;    &quot;category&quot;: &quot;別のカテゴリ&quot;&#10;  }&#10;]&#10;```&#10;&#10;## 使用方法&#10;&#10;### 全件実行（デフォルト）&#10;```bash&#10;node index.js&#10;```&#10;`--count`オプションを指定しない場合、dataディレクトリの全JSONファイルから全件のデータを読み込み、APIに送信します。&#10;&#10;### 件数を指定して実行&#10;```bash&#10;node index.js --count=100&#10;```&#10;&#10;このコマンドで、dataディレクトリの全JSONファイルから最大100件のデータを読み込み、APIに送信します。&#10;&#10;### 開発モード（ファイル監視）&#10;```bash&#10;npm run dev&#10;```&#10;&#10;## 機能&#10;&#10;- dataディレクトリの全`.json`ファイルを自動読み込み&#10;- 配列形式のJSONデータを結合&#10;- コマンドライン引数での件数指定&#10;- **100件ずつのバッチ処理**: 大量データを自動的に100件ずつに分割してAPIリクエスト&#10;- レスポンスの自動結合: 分割されたレスポンスを1つに結合して出力&#10;- 指定件数分のデータをOpenAI responses.create APIに送信&#10;- 配列データのtextフィールドを質問として使用&#10;- レスポンスの画面表示とファイル保存&#10;- outputディレクトリへの結果保存（タイムスタンプ付き）&#10;&#10;## 出力&#10;&#10;APIのレスポンスは以下の形式で保存されます：&#10;- `output/result_{件数}items_{タイムスタンプ}.json` - 完全なAPIレスポンス&#10;- `output/result_{件数}items_{タイムスタンプ}.csv` - output[].content[].textの抽出データ&#10;&#10;出力結果はコンソールにも表示されます：&#10;1. テキストデータを行ごとに表示&#10;2. 完全なJSONレスポンスを表示&#10;&#10;## サンプルデータ&#10;&#10;プロジェクトには以下のサンプルファイルが含まれています：&#10;- `data/data_1.json` - 文化、プログラミング、技術などの質問&#10;- `data/data_2.json` - 旅行、ビジネス、環境などの質問&#10;&#10;## Git管理について&#10;&#10;このプロジェクトでは、`data/`と`output/`ディレクトリは管理対象ですが、中のファイルは除外されています：&#10;&#10;- `data/` - ディレクトリ構造のみ管理（`.gitkeep`）、JSONファイルは除外&#10;- `output/` - ディレクトリ構造のみ管理（`.gitkeep`）、出力ファイルは除外&#10;&#10;この設定により、実際のデータファイルや出力結果をGitにコミットせずに、ディレクトリ構造を保持できます。&#10;&#10;## 注意事項&#10;&#10;- OpenAI APIキーが必要です&#10;- API使用料金が発生する可能性があります&#10;- 大量のデータを送信する際は、APIの利用制限にご注意ください&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/data/.gitkeep">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/data/.gitkeep" />
              <option name="updatedContent" value="# このファイルはdataディレクトリをGit管理下に置くためのものです&#10;# ディレクトリ内のJSONファイルは.gitignoreで除外されています&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/data/product-data.json">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/data/product-data.json" />
              <option name="updatedContent" value="{&#10;  &quot;product_id&quot;: &quot;prod_001&quot;,&#10;  &quot;name&quot;: &quot;サンプル商品&quot;,&#10;  &quot;price&quot;: 1500,&#10;  &quot;category&quot;: &quot;electronics&quot;,&#10;  &quot;description&quot;: &quot;高品質な電子機器&quot;,&#10;  &quot;reviews&quot;: [&#10;    {&quot;rating&quot;: 5, &quot;comment&quot;: &quot;とても良い商品です&quot;},&#10;    {&quot;rating&quot;: 4, &quot;comment&quot;: &quot;価格に見合った品質&quot;}&#10;  ]&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/data/user-data-1.json">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/data/user-data-1.json" />
              <option name="updatedContent" value="{&#10;  &quot;user_id&quot;: &quot;user_001&quot;,&#10;  &quot;name&quot;: &quot;田中太郎&quot;,&#10;  &quot;age&quot;: 30,&#10;  &quot;preferences&quot;: {&#10;    &quot;language&quot;: &quot;ja&quot;,&#10;    &quot;theme&quot;: &quot;dark&quot;&#10;  },&#10;  &quot;activity&quot;: {&#10;    &quot;last_login&quot;: &quot;2024-11-04&quot;,&#10;    &quot;actions&quot;: [&quot;search&quot;, &quot;purchase&quot;, &quot;review&quot;]&#10;  }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>